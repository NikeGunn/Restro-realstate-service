# ============================================
# Kubernetes Secrets Template
# ============================================
# IMPORTANT: DO NOT commit actual secrets to Git!
#
# Copy this file to 'secrets.yaml' and replace ALL placeholder values
# with your actual production secrets.
#
# Production Secret Management Options:
# 1. Use kubectl to create secrets directly on cluster
# 2. Bitnami Sealed Secrets (encrypt secrets in Git)
# 3. External Secrets Operator (sync from Vault/AWS/GCP/Azure)
# 4. SOPS with age/GPG encryption
# 5. ArgoCD Vault Plugin
# ============================================

apiVersion: v1
kind: Secret
metadata:
  name: chatplatform-secrets
  namespace: chatplatform
  labels:
    app.kubernetes.io/name: chatplatform
    app.kubernetes.io/component: secrets
type: Opaque
data:
  # All values must be base64 encoded
  # To encode: echo -n "your-secret-value" | base64
  # To decode: echo "base64-string" | base64 -d
  
  # Django secret key - Generate with:
  # python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
  # Then encode: echo -n "your-generated-key" | base64
  SECRET_KEY: REPLACE_WITH_BASE64_ENCODED_DJANGO_SECRET_KEY

  # PostgreSQL password
  # Generate strong password, then: echo -n "your-password" | base64
  POSTGRES_PASSWORD: REPLACE_WITH_BASE64_ENCODED_POSTGRES_PASSWORD

  # OpenAI API key
  # Get from https://platform.openai.com/api-keys
  # Then encode: echo -n "sk-your-api-key" | base64
  OPENAI_API_KEY: REPLACE_WITH_BASE64_ENCODED_OPENAI_API_KEY

  # Meta/WhatsApp secrets (optional - only if using Meta integrations)
  # Get from https://developers.facebook.com/apps/
  # Then encode each: echo -n "your-value" | base64
  META_APP_SECRET: REPLACE_WITH_BASE64_ENCODED_META_APP_SECRET
  WHATSAPP_DEFAULT_VERIFY_TOKEN: REPLACE_WITH_BASE64_ENCODED_WHATSAPP_VERIFY_TOKEN
  INSTAGRAM_DEFAULT_VERIFY_TOKEN: REPLACE_WITH_BASE64_ENCODED_INSTAGRAM_VERIFY_TOKEN

---
# Docker Registry Secret (for private Docker Hub repositories)
# 
# Method 1: Create using kubectl (RECOMMENDED)
# kubectl create secret docker-registry dockerhub-secret \
#   --docker-server=https://index.docker.io/v1/ \
#   --docker-username=YOUR_DOCKERHUB_USERNAME \
#   --docker-password=YOUR_DOCKERHUB_TOKEN \
#   --docker-email=YOUR_EMAIL \
#   -n chatplatform
#
# Method 2: Generate base64 manually
# Create JSON: {"auths":{"https://index.docker.io/v1/":{"username":"YOUR_USERNAME","password":"YOUR_TOKEN","email":"YOUR_EMAIL","auth":"BASE64_OF_USERNAME:PASSWORD"}}}
# Then: echo -n '{"auths":...}' | base64

apiVersion: v1
kind: Secret
metadata:
  name: dockerhub-secret
  namespace: chatplatform
type: kubernetes.io/dockerconfigjson
data:
  # Replace with output from kubectl create secret command above (--dry-run=client -o yaml)
  # OR manually create base64 encoded dockerconfigjson
  .dockerconfigjson: REPLACE_WITH_BASE64_ENCODED_DOCKER_CONFIG_JSON
